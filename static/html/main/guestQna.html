
<h1>묻고답하기</h1>
<h2>연구1팀</h2>

<!--쓰기 버튼-->
<input type="button" class="btn btn-right pull-right" data-toggle="modal" data-target="#modi-write" value="작성하기">

<!-- 묻고 답하기 글쓰기 Modal -->
<div class="modal fade" id="modi-write" role="dialog">
    <div class="modal-dialog form-horizontal">
        <div class="modal-content">
            <div class="modal-header gn-modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">작성하기</h4>
            </div>
            <div class="modal-body gn-modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="inputEmail3" class="col-sm-1 control-label">제목</label>
                        <div class="col-sm-11">
                            <input type="text" class="form-control">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputPassword3" class="col-sm-1 control-label">내용</label>
                        <div class="col-sm-11">
                            <textarea class="form-control gn-write" rows="6" placeholder="내용을 입력하여주세요."></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer gn-modal-footer">
                <button type="submit" class="btn btn-gn-sub" data-dismiss="modal">등록하기</button>
            </div>
        </div>
    </div>
</div><!--<div class="modal fade" id="modi-write" role="dialog">-->
<!--묻고 답하기 목록-->
<div class="table-responsive gn-table-responsive">
    <table class="table gn-table-noti table-condensed table-hover">
        <thead>
        <tr>
            <th class="col-sm-1"></th>
            <th class="col-sm-7">내용</th>
            <th class="col-sm-3">작성일</th>
        </tr>
        </thead>
        <tbody class="gn-tdody">
        <tr class="" data-toggle="modal" data-target="#modal-qna" ng-repeat="list in list" ng-click="qna_info(list.id,data.page)">
            <td>{{total_page-$index}}</td>
            <td class="second-td-name">{{list.title}}</td>
            <td>{{list.create_date}}</td>
        </tr>

        </tbody>
    </table>
</div><!--div class="table-responsive gn-table-responsive" -->

<!--이전/다음 버튼-->
<input type="button" class="btn" ng-click="noticeList(prev_page)" value="이전" ng-show="page_hist != 1">
<input type="button" class="btn" ng-click="noticeList(next_page)" value="다음" ng-show="page_total!=page_hist">

<!-- 묻고 답하기 내용 Modal -->
<div class="modal fade" id="modal-qna" role="dialog">
    <div class="modal-dialog form-horizontal">
        <div class="modal-content">
            <div class="modal-header gn-modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <!--<h4 class="modal-title">팀 수정</h4>-->
            </div>
            <div class="modal-body gn-modal-body">
                <div class="table-responsive gn-table-responsive">
                    <table class="table gn-table-noti">
                        <p>작성일<span class="noti-count">&nbsp;{{notice.create_date}}</span></p>
                        <thead>
                        <tr>
                            <th class="second-td-name"  colspan=3>{{notice.title}}</th>
                        </tr>
                        </thead>
                        <tbody class="gn-tdody gn-tdody-modal">
                        <tr>
                            <td class="second-td-name gn-lead" colspan=3>
                                {{notice.text}}
                            </td>
                        </tr>
                        <tr class="gn-comment" ng-repeat="reply in reply">
                            <td class="col-sm-1"><span>댓글</span></td>
                            <td class="second-td-name gn-lead col-sm-11" colspan=2>
                                <div class="">
                                    {{reply.text}}
                                    <a href="" class="glyphicon glyphicon-trash pull-right comm"></a>
                                    <a href="" class="glyphicon glyphicon-pencil pull-right"></a>
                                </div>
                            </td>
                        </tr>
                        <tr class="gn-answer">
                            <td class="col-sm-1"><span>댓글달기</span></td>
                            <td class="second-td-name gn-lead col-sm-10">
                                <textarea class="form-control gn-write" rows="6" placeholder="내용을 입력하여주세요."></textarea>
                            </td>
                            <td class="col-sm-1"><button type="submit" class="btn btn-gn-sub btn-block pull-right" data-dismiss="modal">등록</button></td>
                        </tr>
                        </tbody>
                    </table>
                </div><!--div class="table-responsive gn-table-responsive" -->
            </div>
            <div class="modal-footer gn-modal-footer">
                <button type="submit" class="btn btn-gn-sub pull-left" ng-show="user_info.authority == 'sysowner' && !showData " ng-click="showData= !showData">수정</button>
                <button type="submit" class="btn btn-gn-sub pull-left" data-dismiss="modal" ng-show="user_info.authority == 'sysowner' && showData " ng-click="showData=!showData;changetext(notice.id, notice.text)">저장</button>
                <button type="submit" class="btn btn-gn-sub pull-left" data-dismiss="modal" ng-show="user_info.authority == 'sysowner' " ng-click="deletenoti(notice.id)">삭제</button>
                <button type="submit" class="btn btn-gn-sub pull-right" data-dismiss="modal">닫기</button>
            </div>
        </div>
    </div>
</div>