<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <!--FAVICON-->
    <link rel="apple-touch-icon" sizes="57x57" href="/gn_images/apple-icon-57x57.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/gn_images/favicon-16x16.png">
    <!-- 위 3개의 메타 태그는 *반드시* head 태그의 처음에 와야합니다; 어떤 다른 콘텐츠들은 반드시 이 태그들 *다음에* 와야 합니다 -->
    <title>지앤클라우드 프라이빗</title>
    <!-- IE8 에서 HTML5 요소와 미디어 쿼리를 위한 HTML5 shim 와 Respond.js -->
    <!-- WARNING: Respond.js 는 당신이 file:// 을 통해 페이지를 볼 때는 동작하지 않습니다. -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- 합쳐지고 최소화된 최신 CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!-- css -->
    <link rel="stylesheet" href="/gn_css/bootstrap_gn_theme.css" />
    <script>
        $(document).ready(function() {
            $('#i').hide();
            $('#p').hide();
            $('#sigin_btn').click(function() {
                var formData = '{"user_name":"'+$("#user_name").val()+'","user_id":"'+$("#user_id").val()+'","password":"'+$("#password").val()+'","password_re":"'+$("#password_re").val()+'"}';
                $.ajax({
                    type: "POST",
                    data: formData,
                    url: '/api/manager/vm/account/users',
                    headers: {'Content-Type': 'application/json; charset=utf-8'},
                    success:function(data) {
                        if (data.test == 'success') {
                            location.href="/index.html"
                        }else if(data.test =='user_id'){
                            $('#i').show();
                            $('#p').hide();
                        }else if(data.test == 'password'){
                            $('#p').show();
                            $('#i').hide();
                        }else if(data.test == 'not'){

                        }
                    }
                })

            });
        });
        function onKeyDown(){
            if(event.keyCode == '13'){
                $('#sigin_btn').click();
            }
        }
        /**/
    </script>
</head>
<body>

<!-- --------- 회원가입 페이지 ---------- -->
    <div class="body-gray">
        <div class="container container-login">
            <div class="col-md-offset-4 col-md-4">
                <a href="index.html" class="logo">
                    <h1>지앤클라우드 프라이빗</h1>
                    <img src="gn_images/private_login_img.png" alt="지앤클라우드 프라이빗">
                </a> 
            </div> <!--class="col-md-offset-4 col-md-4"-->
                    
            <div class="col-md-offset-4 col-md-4 login-box">
                    <form id="form" >
                    <h3>회원가입</h3>
                    <p><input type="text" class="form-control gn-input gn-inputs" id="user_name" placeholder="이름을 입력해주세요." data-validation='user_name' /></p>
                    <p><input type="text" class="form-control gn-input gn-inputs" id="user_id" placeholder="아이디를 입력해주세요." data-validation='user_id' /></p>
                    <div class="error-message" id="i">이미 등록된 아이디입니다.</div>
                    <p><input type="password" class="form-control gn-input gn-inputs" id="password" placeholder="비밀번호를 입력해주세요." minlength="2" data-validation='password' /></p>
                    <p><input type="password" class="form-control gn-input gn-inputs" id="password_re" placeholder="비밀번호를 다시 입력해주세요." minlength="2" onkeydown="onKeyDown();" data-validation='password_re' /></p>
                    <!--이미 등록된 아이디를 적었을 때 출력-->
                    <div class="error-message" id="p">입력된 비밀번호가 일치하지 않습니다.</div>
                    </form>
                    <button type="submit" class="btn btn-gn-login btn-lg btn-block" id="sigin_btn">회원가입</button>


            </div> <!--class="login-box"-->

        </div> <!-- 회원가입 container -->
    </div>
<!-- --------- 회원가입 container ----------END -->








<a href="#" class="scrollup"><i class="fa fa-angle-up active"></i></a>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.3.26/jquery.form-validator.min.js"></script>
<script>

    // Add validator
    $.formUtils.addValidator({
        name : 'user_name',
        validatorFunction : function(value, $el, config, language, $form) {
            return value == "" ? false : true;
        },
        errorMessage : '이름을 입력헤주세요',
        errorMessageKey: 'badEvenNumber',
        errorMessagePosition: 'element'

    });
    $.formUtils.addValidator({
        name : 'user_id',
        validatorFunction : function(value, $el, config, language, $form) {
            var regExp = /^[a-zA-Z0-9@.].{2,30}$/;
            return regExp.test(value)  ;
        },
        errorMessage : '2자리 이상 한글을 제외하고 넣어주세요',
        errorMessageKey: 'badEvenNumber',
        errorMessagePosition: 'element'

    });
    $.formUtils.addValidator({
        name : 'password',
        validatorFunction : function(value, $el, config, language, $form) {
            var regExp = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,16}$/;
            return regExp.test(value)  ;
        },
        errorMessage : '숫자, 영문 특수문자를 8~16자리까지 혼합해서 사용해 주세요.',
        errorMessageKey: 'badEvenNumber',
        errorMessagePosition: 'element'

    });
    $.formUtils.addValidator({
        name : 'password_re',
        validatorFunction : function(value, $el, config, language, $form) {
            var regExp = /^(?=.*[a-zA-Z])(?=.*[!@#$%^*+=-])(?=.*[0-9]).{8,16}$/;
            return regExp.test(value)  ;
        },
        errorMessage : '입력하신 비밀번호가 다릅니다.',
        errorMessageKey: 'badEvenNumber',
        errorMessagePosition: 'element'

    });

    // Initiate form validation
    $.validate();
</script>
</body>
</html>