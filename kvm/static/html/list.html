<script src="https://code.jquery.com/jquery-1.11.3.js"></script>

- list -
<table id="table" border = "1">
    <tr>
        <td>name</td>
        <td>cpu</td>
        <td>memory</td>
        <td>ip</td>
        <td>status</td>
        <td>action</td>
    </tr>
</table>
<script>
    $(function () {
        $.ajax({
            url:'/list',
            type:'get',
            success:function(data){
                for(var i=0; i<data.lists.length; i++) {
                    var tr = "<tr>"
                        tr += "<td>"+data.lists[i].name+"</td>"
                        tr += "<td>"+data.lists[i].cpus+"</td>"
                        tr += "<td>"+data.lists[i].memory+"</td>"
                        tr += "<td>"+data.lists[i].ip+"</td>"
                        tr += "<td>"+data.lists[i].dom_state+"</td>"
                        tr += "<td><select onchange='change_status(\""+data.lists[i].name+"\",this.value)'>"
                        tr += "<option selected>select</option>"
                        tr += "<option value='suspend'>suspend</option>"
                        tr += "<option value='resume'>resume</option>"
                    tr += "<option value='delete'>delete</option>"
                        tr +="</select></td>"
                        tr += "</tr>"

                    $("#table").append(tr);
                }
            }
        })


    });

    function change_status(name,value){
        $.ajax({
            url:'/change_status/'+name+'/'+value ,
            type:'get',
            success:function(data){
                alert(name+" guest의 상태가 변경되었습니다")
                location.reload();
            }
        })
    }

</script>
